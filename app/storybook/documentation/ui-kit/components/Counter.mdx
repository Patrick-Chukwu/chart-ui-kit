import { Canvas, ArgTypes, Meta, Story, Source } from '@storybook/blocks'
import LinkTo from '@storybook/addon-links/react'
import * as CounterStories from '../../../../../packages/ui-kit/src/components/Counter/Counter.stories'
import * as CounterQueryPropsStories from '../../../../../packages/ui-kit/src/components/Counter/CounterQueryProps.stories'

<Meta title="Components/Counter/Overview" of={CounterStories} />

# Counter overview

The Counter component is designed to create Propel counter metric visualizations for your front-end applications. With
one prop in Static mode, `value`, the Counter component provides a simple, no-frills way to display your data. If you
opt for the Connected mode, the component will accept the query prop, which loads the data automatically based on
[Propel specifications](https://studio.apollographql.com/graph/Propel-API/schema/reference/inputs/CounterInput?variant=production).

## Basic usage

You can import the component in your React file and use it as shown in the following example:

<Source
  dark
  format="dedent"
  language="tsx"
  code={`
    import { Counter, RelativeTimeRange } from '@propeldata/ui-kit'

    function MonthRevenueCount() {
      const queryOptions = {
        accessToken: '<PROPEL_ACCESS_TOKEN>',
        metric: 'Revenue',
        timeRange: {
          relative: RelativeTimeRange.LastNDays,
          n: 30
        }
      }

      return <Counter query={queryOptions} prefixValue="$" localize />
    }

`} />

This will generate a counter component as shown below:

<Story of={CounterStories.SingleValueStory} />

As you can see, the component comes unstyled. However, you can customize its styles to your liking. Here's how you can
access the style props:

<Source
  dark
  format="dedent"
  language="tsx"
  code={`
    import { Counter, RelativeTimeRange } from '@propeldata/ui-kit'

    function MonthRevenueCountStyled() {
      const queryOptions = {
        accessToken: '<PROPEL_ACCESS_TOKEN>',
        metric: 'Revenue',
        timeRange: {
          relative: RelativeTimeRange.LastNDays,
          n: 30
        }
      }

      const styles = {
        font: {
          size: '2rem',
          style: 'italic',
          family: 'Arial',
          weight: 'bold'
        }
      }

      return (
        <div>
          <Counter query={queryOptions} styles={styles} localize />
        </div>
      )
    }

`} />

<Story of={CounterStories.SingleValueCustomStyleStory} />

In this example, we have built a simple span element that can be wrapped into any custom component of your preference.
You can adjust these and other style properties to create a unique look for your Counter component.

Here's an example of how you can wrap the Counter component inside a Card to give it a unique look.

<Story of={CounterStories.ValueInCardStory} />

Now let's look at what all you can do with the component. The next 2 topics will cover all the props and styles you can
configure to have a nice chart experience.

## Props API

The following table describes the props available for the Counter component:

<ArgTypes of={CounterStories.SingleValueStory} sort="alpha" />

### `CounterQueryProps`

<ArgTypes of={CounterQueryPropsStories.Primary} sort="alpha" />

See the documentation below for a complete reference to all of the props and classes available to the components
mentioned here.

- <LinkTo kind="API/ChartStyles" story="overview">
    ChartStyles
  </LinkTo>
- <LinkTo kind="API/FilterInput" story="overview">
    FilterInput
  </LinkTo>
- <LinkTo kind="API/TimeRangeInput" story="overview">
    TimeRangeInput
  </LinkTo>
